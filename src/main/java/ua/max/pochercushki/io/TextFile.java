package ua.max.pochercushki.io;import java.io.BufferedReader;import java.io.File;import java.io.FileReader;import java.io.IOException;import java.io.PrintWriter;import java.util.ArrayList;import java.util.Arrays;import java.util.TreeSet;/** * @author <a href="mailto:mmusienko@codenvy.com">Musienko Maxim</a> * @version $Id: 2013 10/21/13 12:26 PM */public class TextFile extends ArrayList<String> {    //read method string by string    public static String read(String fileName) {        StringBuilder sb = new StringBuilder();        try {            BufferedReader in = new BufferedReader(new FileReader(new File(fileName)));            try {                String s;                while ((s = in.readLine()) != null) {                    sb.append(s);                    sb.append("\n");                }            } finally {                in.close();            }        } catch (IOException e) {            e.printStackTrace();        }        return sb.toString();    }    //write method wit one call    public static void write(String file, String text) {        try {            PrintWriter out = new PrintWriter(new File(file).getAbsoluteFile());            try {                out.write(text);            } finally {                out.close();            }        } catch (IOException e) {           e.printStackTrace();        }    }    //read with split by regexp    public TextFile(String fileName, String splitter) {        super(Arrays.asList(read(fileName).split(splitter)));        if (get(0).equals("")) remove(0);    }    public TextFile(String fileName) {        this(fileName, "/n");    }    //    public void write(String fileName) {        try {            PrintWriter out = new PrintWriter(new File(fileName).getAbsoluteFile());            try {                for (String item : this)                    out.println(item);            } finally {                out.close();            }        } catch (IOException e) {            throw new RuntimeException(e);        }    }    public static void main(String[] args) {        String file = read("/home/musienkomaxim/tmp/TextFile.java");        write("test.txt", file);        TextFile text = new TextFile("test.txt");        text.write("test2.txt");        TreeSet<String> words = new TreeSet<String>(new TextFile("/home/musienkomaxim/tmp/TextFile.java", "\\W+"));        System.out.println(words.headSet("a"));    }}